{"version":3,"file":"commonHelpers.js","sources":["../src/js/about-me.js","../src/js/faq.js","../src/js/api.js","../src/js/reviews.js"],"sourcesContent":["import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\n\nfunction initAboutMeAccordion() {\n  new Accordion('.about-me__accordion-container', {\n    duration: 400,\n    showMultiple: false,\n    collapse: true,\n  });\n}\n\ninitAboutMeAccordion();\n\nconst accordionHeaders = document.querySelectorAll('.about-me__header');\naccordionHeaders.forEach(header => {\n  header.addEventListener('click', function () {\n    const accordionItem = this.closest('.about-me__item');\n    const panel = accordionItem.querySelector('.about-me__panel');\n\n    if (panel) {\n      panel.classList.toggle('visually-hidden');\n    }\n  });\n});\n\n// SWIPERJS\n\n// const aboutMeSwiper = new Swiper('.about-me__swiper-container', {\n//   loop: true,\n//   loopSlides: 6,\n//   spaceBetween: 0,\n//   keyboard: {\n//     enabled: true,\n//   },\n//   mousewheel: {\n//     invert: true,\n//   },\n//   modules: [Navigation],\n//   navigation: {\n//     nextEl: '.about-me__swiper-button-next',\n//   },\n//   breakpoints: {\n//     320: {\n//       slidesPerView: 2,\n//     },\n//     768: {\n//       slidesPerView: 3,\n//     },\n//     1440: {\n//       slidesPerView: 6,\n//     },\n//   },\n// });\n\n// aboutMeSwiper.on('slideChange', function onSlideChange() {\n//   aboutMeSwiper.slides.forEach(slide => {\n//     slide.classList.add('color-slide');\n//     slide.classList.remove('color-slide');\n//   });\n// });\n\n// SWIPER\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const slides = document.querySelectorAll('.swiper-slide');\n  let currentIndex = 0;\n\n  function toggleBackgroundColor() {\n    slides.forEach((slide, index) => {\n      if (index === currentIndex) {\n        slide.classList.add('color-slide');\n      } else {\n        slide.classList.remove('color-slide');\n      }\n    });\n  }\n\n  toggleBackgroundColor();\n\n  function switchBackgroundColor() {\n    slides[currentIndex].classList.remove('color-slide');\n    currentIndex = (currentIndex + 1) % slides.length;\n    slides[currentIndex].classList.add('color-slide');\n  }\n\n  const nextButton = document.querySelector('.swiper-button-next');\n  nextButton.addEventListener('click', function () {\n    switchBackgroundColor();\n    setTimeout(toggleBackgroundColor, 1000);\n  });\n\n  slides.forEach((slide, index) => {\n    slide.addEventListener('click', function () {\n      currentIndex = index;\n      toggleBackgroundColor();\n    });\n  });\n\n  const swiperContainer = document.querySelector('.swiper');\n  let startX = 0;\n  let isSwiping = false;\n\n  swiperContainer.addEventListener('touchstart', function (event) {\n    startX = event.touches[0].clientX;\n    isSwiping = true;\n  });\n\n  swiperContainer.addEventListener('touchmove', function (event) {\n    if (!isSwiping) return;\n    const currentX = event.touches[0].clientX;\n    const diff = currentX - startX;\n\n    if (Math.abs(diff) > 50) {\n      if (diff > 0) {\n        currentIndex =\n          currentIndex === 0 ? slides.length - 1 : currentIndex - 1;\n      } else {\n        currentIndex =\n          currentIndex === slides.length - 1 ? 0 : currentIndex + 1;\n      }\n      toggleBackgroundColor();\n      isSwiping = false;\n    }\n  });\n});\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    const accordions = document.querySelectorAll('.faq-accordion');\n\n    accordions.forEach(accordion => {\n        accordion.addEventListener('click', function() {\n            const arrow = this.querySelector('.faq-arrow');\n            const description = this.nextElementSibling;\n\n            arrow.classList.toggle('rotate');\n            description.classList.toggle('visually-hidden');\n        });\n    });\n\n    new Accordion('.faq-section', {\n        duration: 400,\n        showFirstItem: false,\n    });\n});\n\n\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\nexport async function getReviews() {\n  const res = await axios.get('/reviews');\n  return res.data;\n}\n\nexport async function createUser(obj) {\n  const res = await axios.post('/requests', obj);\n  return res.data;\n}\n","import { getReviews } from './api';\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nfunction renderReviews(reviewsPromise) {\n  reviewsPromise\n    .then(arr => {\n      const markup = arr\n        .map(({ avatar_url, _id, author, review }) => {\n          const maxTextLength = 180;\n          const isTextOverflowing = review.length > maxTextLength;\n          const textClass = isTextOverflowing\n            ? 'review-user-comment-collapsed'\n            : '';\n          const trimmedReview = isTextOverflowing\n            ? review.slice(0, maxTextLength) + '...'\n            : review;\n          const buttonText = isTextOverflowing ? 'Розгорнути' : '';\n\n          return `<li class=\"review-carusel-list-item\">\n                <div class=\"user-review-container\">\n                    <img class=\"review-user-photo\" src=\"${avatar_url}\" alt=\"${_id}\">\n                    <div class=\"user-data-review-container\" data-review=\"${review}\">\n                        <h4 class=\"review-user-name\">${author}</h4>\n                        <p class=\"review-user-comment ${textClass}\">${trimmedReview}</p>\n                        ${\n                          isTextOverflowing\n                            ? '<button class=\"toggle-btn\">Згорнути</button>'\n                            : ''\n                        }\n                    </div>\n                </div>\n            </li>`;\n        })\n        .join('');\n\n      const reviewsContainer = document.querySelector('.reviews-carusel');\n\n      reviewsContainer.innerHTML = markup;\n\n      const buttons = document.querySelectorAll('.toggle-btn');\n      buttons.forEach(btn => {\n        btn.addEventListener('click', function () {\n          const commentContainer = this.closest('.user-data-review-container');\n          const comment = commentContainer.querySelector(\n            '.review-user-comment'\n          );\n          const originalReview = commentContainer.dataset.review;\n          comment.classList.toggle('review-user-comment-collapsed');\n          if (comment.classList.contains('review-user-comment-collapsed')) {\n            comment.textContent = originalReview.slice(0, 180) + '...';\n            this.textContent = 'Розгорнути';\n          } else {\n            comment.textContent = originalReview;\n            this.textContent = 'Згорнути';\n          }\n        });\n      });\n    })\n    .catch(error => {\n      console.error('Not found', error);\n    });\n}\n\nrenderReviews(getReviews());\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var mySwiper = new Swiper('.swiper-container', {\n    direction: 'horizontal',\n    Pagination: {\n      el: '.swiper-pagination',\n    },\n    Navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    keyboard: true,\n    touch: true,\n    loop: true,\n  });\n});\n"],"names":["initAboutMeAccordion","Accordion","accordionHeaders","header","panel","slides","currentIndex","toggleBackgroundColor","slide","index","switchBackgroundColor","swiperContainer","startX","isSwiping","event","diff","accordion","arrow","description","axios","getReviews","renderReviews","reviewsPromise","arr","markup","avatar_url","_id","author","review","isTextOverflowing","textClass","trimmedReview","reviewsContainer","btn","commentContainer","comment","originalReview","error","Swiper"],"mappings":"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"}